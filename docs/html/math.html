<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>pvx Mathematical Foundations</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="wrap">
      <h1>pvx Mathematical Foundations</h1>
      <nav><a href="index.html">Home</a> | <a href="papers.html">Research papers</a> | <a href="glossary.html">Technical glossary</a> | <a href="windows.html">Window reference</a> | <a href="benchmarks.html">Benchmarks</a></nav>
    </div>
  </header>
  <main class="wrap">
<div class="card">
  <p>
    Mathematical summary of the core signal-processing model used across PVX.
    Equations are rendered with MathJax when this page is opened in a normal browser.
  </p>
  <p class="small">
    GitHub usually displays HTML source text. For GitHub-native math rendering, use
    <a href="../MATHEMATICAL_FOUNDATIONS.md"><code>docs/MATHEMATICAL_FOUNDATIONS.md</code></a>.
  </p>
</div>


<div class="card">
  <h2>STFT Analysis and Synthesis</h2>
  <p><strong>Analysis:</strong></p>
  <p>$$X_t[k]=\sum_{n=0}^{N-1} x[n+tH_a]w[n]e^{-j2\pi kn/N}$$</p>
  <p class="small">Each frame $t$ is windowed by $w[n]$ and transformed to complex bins $k$.</p>
  <p><strong>Synthesis:</strong></p>
  <p>$$\hat{x}[n]=\frac{\sum_t \hat{x}_t[n-tH_s]w[n-tH_s]}{\sum_t w^2[n-tH_s]+\varepsilon}$$</p>
  <p class="small">Overlap-add with energy normalization preserves level stability.</p>
</div>


<div class="card">
  <h2>Phase-Vocoder Propagation</h2>
  <p>$$\Delta\phi_t[k]=\operatorname{princarg}\Big(\phi_t[k]-\phi_{t-1}[k]-\omega_kH_a\Big)$$</p>
  <p>$$\hat{\omega}_t[k]=\omega_k+\frac{\Delta\phi_t[k]}{H_a}$$</p>
  <p>$$\hat{\phi}_t[k]=\hat{\phi}_{t-1}[k]+\hat{\omega}_t[k]H_s$$</p>
  <p class="small">
    PVX uses these relationships to estimate true instantaneous frequency and
    re-accumulate phase under a new synthesis hop.
  </p>
</div>


<div class="card">
  <h2>Pitch and Microtonal Mapping</h2>
  <p>$$r_{\text{pitch}}=2^{\Delta s/12}=2^{\Delta c/1200}$$</p>
  <p class="small">
    Semitone shift $\Delta s$ and cents shift $\Delta c$ are equivalent ratio controls.
    Scale-constrained retuning maps detected F0 to the nearest permitted scale target.
  </p>
</div>


<div class="card">
  <h2>Dynamics and Loudness</h2>
  <p>$$g_{\text{LUFS}}=10^{(L_{\text{target}}-L_{\text{in}})/20}$$</p>
  <p>$$y[n]=x[n]\cdot g_{\text{LUFS}}$$</p>
  <p class="small">
    Target-loudness gain is applied in linear amplitude domain after dynamics stages,
    before limiting/clipping safety stages.
  </p>
</div>


<div class="card">
  <h2>Spatial and Multichannel Highlights</h2>
  <p><strong>Delay-and-sum beamforming:</strong> $$y[n]=\frac{1}{M}\sum_{m=1}^{M}x_m[n-\tau_m]$$</p>
  <p><strong>MVDR weights:</strong> $$\mathbf{w}=\frac{\mathbf{R}^{-1}\mathbf{d}}{\mathbf{d}^H\mathbf{R}^{-1}\mathbf{d}}$$</p>
  <p><strong>FOA encode (WXYZ):</strong> $$W=\frac{s}{\sqrt{2}},\ X=s\cos\theta\cos\varphi,\ Y=s\sin\theta\cos\varphi,\ Z=s\sin\varphi$$</p>
  <p class="small">
    PVX spatial modules combine beamforming, ambisonic transformations, and phase-vocoder-consistent
    multichannel processing for robust chain composition.
  </p>
</div>
</main>
  <footer class="site-footer">
    <div class="wrap">
      Generated by <code>scripts_generate_html_docs.py</code> from commit <code>58b1a2e</code>
      (commit date: 2026-02-17T09:29:32-05:00).
    </div>
  </footer>
</body>
</html>
